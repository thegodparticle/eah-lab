# =============================================================================
# ELECTRIC & ACOUSTIC HEARING LAB - HUGO CONFIGURATION
# =============================================================================
# File: config/_default/hugo.yaml
# Site: https://eahlab.com
# Theme: HugoBlox Research Group
# =============================================================================

theme: "theme-research-group"

# -----------------------------------------------------------------------------
# SITE IDENTITY
# -----------------------------------------------------------------------------
title: Electric & Acoustic Hearing Lab
baseURL: 'https://eahlab.com/'
copyright: 'Â© {year} Electric & Acoustic Hearing Lab. University of South Alabama.'

# -----------------------------------------------------------------------------
# LANGUAGE & LOCALIZATION
# -----------------------------------------------------------------------------
defaultContentLanguage: en
hasCJKLanguage: false
defaultContentLanguageInSubdir: false
removePathAccents: true
timeZone: "America/Chicago"

# -----------------------------------------------------------------------------
# CONTENT SETTINGS
# -----------------------------------------------------------------------------
summaryLength: 30
enableEmoji: true
enableRobotsTXT: true
enableGitInfo: false

# Pagination
pagination:
  pagerSize: 10

# Footnotes
footnotereturnlinkcontents: <sup>^</sup>

# Files to ignore during build
ignoreFiles:
  - \.ipynb$
  - .ipynb_checkpoints$
  - \.Rmd$
  - \.Rmarkdown$
  - _cache$
  - \.obsidian$
  - \.DS_Store$

# -----------------------------------------------------------------------------
# URL STRUCTURE
# -----------------------------------------------------------------------------
permalinks:
  authors: '/author/:slug/'
  tags: '/tag/:slug/'
  categories: '/category/:slug/'
  publication_types: '/publication-type/:slug/'
  post: '/news/:slug/'

disableAliases: true

# -----------------------------------------------------------------------------
# TAXONOMIES
# -----------------------------------------------------------------------------
taxonomies:
  tag: tags
  category: categories
  publication_type: publication_types
  author: authors

# -----------------------------------------------------------------------------
# BUILD OUTPUTS
# -----------------------------------------------------------------------------
outputs:
  home: [HTML, RSS, JSON, WebAppManifest, headers, redirects]
  section: [HTML, RSS]

# -----------------------------------------------------------------------------
# IMAGE PROCESSING
# -----------------------------------------------------------------------------
imaging:
  resampleFilter: lanczos
  quality: 90
  anchor: smart

# -----------------------------------------------------------------------------
# MARKUP & RENDERING
# -----------------------------------------------------------------------------
markup:
  goldmark:
    renderer:
      unsafe: true
    extensions:
      typographer:
        disable: false
    parser:
      autoHeadingID: true
      autoHeadingIDType: github
  highlight:
    codeFences: true
    guessSyntax: true
    lineNos: false
    noClasses: false
    style: github
  tableOfContents:
    startLevel: 2
    endLevel: 3
    ordered: false
  _merge: deep

# -----------------------------------------------------------------------------
# RELATED CONTENT
# -----------------------------------------------------------------------------
related:
  threshold: 80
  includeNewer: true
  toLower: true
  indices:
    - name: tags
      weight: 100
    - name: categories
      weight: 70
    - name: authors
      weight: 50

# -----------------------------------------------------------------------------
# SECURITY
# -----------------------------------------------------------------------------
# -----------------------------------------------------------------------------
# SECURITY
# -----------------------------------------------------------------------------
security:
  funcs:
    getenv:
      - ^HUGO_
      - ^CI$
      - ^WC_
  _merge: deep

# -----------------------------------------------------------------------------
# SITEMAP
# -----------------------------------------------------------------------------
sitemap:
  changefreq: weekly
  priority: 0.5
  filename: sitemap.xml
  _merge: deep

# -----------------------------------------------------------------------------
# MINIFICATION
# -----------------------------------------------------------------------------
minify:
  disableCSS: false
  disableHTML: false
  disableJS: false
  disableJSON: false
  disableSVG: false
  disableXML: false
  minifyOutput: true
  tdewolff:
    html:
      keepWhitespace: false
      keepEndTags: true
      keepQuotes: true

# -----------------------------------------------------------------------------
# CACHING
# -----------------------------------------------------------------------------
caches:
  images:
    dir: ':cacheDir/images'
    maxAge: "720h"
  assets:
    dir: ':cacheDir/assets'
    maxAge: "720h"

# -----------------------------------------------------------------------------
# PRIVACY (GDPR)
# -----------------------------------------------------------------------------
privacy:
  googleAnalytics:
    anonymizeIP: true
    respectDoNotTrack: true
  x:
    enableDNT: true
  youtube:
    privacyEnhanced: true
  vimeo:
    enableDNT: true